generator client {
    provider = "prisma-client-js"
    output   = "../generated/entity"
}

datasource db {
    provider = "postgresql"
    url      = env("ENTITY_DATABASE_URL")
}

model Entity {
    id  String @id @default(uuid())
    fid BigInt

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    blockchainAccounts EntityBlockchain[]
}

model EntityBlockchain {
    protocol   String
    address    String
    isContract Boolean
    entityId   String
    source     String

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    entity Entity @relation(fields: [entityId], references: [id])

    @@id([protocol, address])
}
