// schema.prisma

generator client {
    provider = "prisma-client-js"
    output   = "../generated/relations"
}

datasource db {
    provider = "postgresql"
    url      = env("RELATIONS_DATABASE_URL")
}

model ContentRelation {
    contentId       String
    type            String
    targetContentId String
    source          String

    @@id([contentId, type, source, targetContentId])
    @@index([targetContentId, type, source])
}

model EntityRelation {
    entityId       String
    type           String
    targetEntityId String
    source         String

    @@id([entityId, type, source, targetEntityId])
    @@index([targetEntityId, type, source])
}
